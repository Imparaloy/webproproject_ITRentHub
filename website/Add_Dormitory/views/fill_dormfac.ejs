<%- include("head.ejs") %>

<body>
    <div class="container">
        <%- include("sidebar.ejs") %>
        <!-- Main Content -->
        <main class="content">
            <!-- Card Section -->
            <section class="card">
                <h2>การเพิ่มหอพัก</h2>
                <p>เพิ่มสิ่งอำนวยความสะดวกของหอพัก</p>
                <form class="facility" action="/insert_DormFac" method="get">
                    <input type="hidden" name="value" id="formValue">
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Air_Conditioner">เครื่องปรับอากาศ</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Furnished">เฟอร์นิเจอร์</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Water_Heater">เครื่องทำน้ำอุ่น</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Fan">พัดลม</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Refrigerator">ตู้เย็น</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Parking">ที่จอดรถ</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Bicycle_Parking">ที่จอดจักรยาน</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Lift">ลิฟต์</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Pool">สระว่ายน้ำ</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Fitness">ฟิตเนส</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Security_keycard">คีย์การ์ดรักษาความปลอดภัย</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Security_finger_print">ลายนิ้วมือรักษาความปลอดภัย</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="cctv">กล้องวงจรปิด</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Security">ยามรักษาความปลอดภัย</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="In_Room_WIFI">WIFI ในห้อง</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Pets">สัตว์เลี้ยง</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Smoking">พื้นที่สูบบุหรี่</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Laundry">พื้นที่ซักรีด</span>
                    <span class="amenity" onclick="ChangeColor(this)" data-value="0" data-key="Kitchen_Stove">เตาในครัว</span>
                    <div class="button-container">
                    <button type="submit" id="submit">ยืนยัน</button>
                    </div>
                </form>
        </main>
    </div>
    <script>
        document.getElementById("submit").addEventListener("click", function (event) {
            event.preventDefault(); // ป้องกันการ submit ทันที

            let amenities = document.querySelectorAll(".amenity");
            let formData = {};

            amenities.forEach(span => {
                formData[span.getAttribute("data-key")] = span.getAttribute("data-value");
            });

            let queryString = new URLSearchParams({ value: JSON.stringify(formData) }).toString();
            
            // Redirect เพื่อส่งข้อมูลแบบ GET
            window.location.href = "/insert_DormFac?" + queryString;
        })
        function ChangeColor(element) {
            var value = element.getAttribute("data-value");
            if (value == "0") {
                element.style.backgroundColor = "#3652AD";
                element.style.color = "white";
                element.setAttribute("data-value", "1");
                document.getElementById("formValue").value = "1";
            }
            else if (value == "1") {
                element.style.backgroundColor = "#e9e9ed";
                element.style.color = "black";
                element.setAttribute("data-value", "0");
                document.getElementById("formValue").value = "0";
            }
        }
    </script>
    <style>
        a {
            text-decoration: none;
        }

        .button-container {
            grid-column: 1 / -1;
            display: flex;
            justify-content: center;
        }

        button {
            margin-top: 10px;
            margin: 10px;
            padding: 15px 20px;
            font-size: 16px;
        }
        .amenity {
            cursor: pointer;
            margin-top: 10px;
            margin: 10px;
            padding: 15px 15px;
            font-size: 16px;
            background-color: #e9e9ed;
            border: 1px solid;
            border-radius: 10px;
            transition: background-color 0.3s;
        }

        @media screen and (min-width:1000px) {
            .facility {
                text-align: center;
                display: grid;
                grid-template-columns: auto auto auto auto;
                row-gap: 5px;
                margin-top: 10px;
            }
        }
        @media screen and (max-width:1000px) and (min-width:700px) {
            .facility {
                text-align: center;
                display: grid;
                grid-template-columns: auto auto auto;
                row-gap: 5px;
            }
        }
        @media screen and (max-width:700px) and (min-width:400px) {
            .facility {
                text-align: center;
                display: grid;
                grid-template-columns: auto auto;
                row-gap: 5px;
            }
        }
        @media screen and (max-width:400px) {
            .facility {
                text-align: center;
                display: grid;
                grid-template-columns: auto;
                row-gap: 5px;
            }
        }
    </style>
</body>
</html>